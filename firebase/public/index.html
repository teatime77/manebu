<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>MathJaxãƒ†ã‚¹ãƒˆ</title>
    <script type="text/javascript" src="js/main.js?ver=1566971128" ></script>
    <script type="text/javascript" src="js/firebase.js?ver=1566971128" ></script>
    <script type="text/javascript" src="js/markdown.js?ver=1566971128" ></script>
    <script type="text/javascript" src="js/speech.js?ver=1566971128" ></script>
    <script type="text/javascript" src="js/mymathjax.js" ></script>
    <style>
        li {
          margin-top: 10px;
          margin-bottom: 10px;
        }
      </style>  

<script type="text/javascript">

function body_onload(){
    console.log("body load");
    manebu.init_manebu();
}

function startPlay(){
    manebu.play(0)
}

function copyData(){
    var s = manebu.actions_toJSON();
    console.log(s);

    navigator.clipboard.writeText(s).then(function() {
        console.log("copy ok");
    }, 
    function() {
      console.log("copy ng");
    });    
}

function addTextBlock_resume(){
    manebu.addTextBlock(manebu.textMath.value);
    manebu.resume();
}

function addSpeech_resume(){
    manebu.addSpeech(manebu.textMath.value);
    manebu.resume();
}
</script>
  
</head>
<body onload="body_onload()" style="margin:0px; padding:0px">

<!-- $$
\newcommand{\P}{\mathcal{P}}
\\
\newcommand{\F}{\mathcal{F}}
\\
\newcommand{\L}{\mathcal{L}}
\newcommand{\U}{{}^\ast U}
$$ -->

<table>
  <tr>
    <td>
      ãƒ¡ãƒ‹ãƒ¥ãƒ¼
      <a href="login.html" >ãƒ­ã‚°ã‚¤ãƒ³</a>
      <button id="btn-open-folder" disabled=true onclick="manebu.openFolder()">ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ã</button>

      <button onclick="manebu.open_markdown(window.location.href, document.getElementById('text-name').value);">é–‹ã</button>  
      <button onclick="manebu.preview(0)">å†ç”Ÿ</button>
      <br/>
      ã‚¿ã‚¤ãƒˆãƒ«:
      <input id="text-title" type="text" size=10 value="" />
      <button onclick="manebu.firebase_update()">æ›´æ–°</button>  
    </td>
    <td style="width: 200px" ></td>
  </tr>

  <tr>
      <td>
          <br/>
          &#x1f640;
          <button onclick="manebu.textMath.value = ''">ã‚¯ãƒªã‚¢</button>
          <button onclick="addTextBlock_resume()">ãƒ†ã‚­ã‚¹ãƒˆã‚’è¿½åŠ </button>
          <button onclick="addSpeech_resume()">éŸ³å£°ã‚’è¿½åŠ </button>  
          <br/>
        <textarea id="txt-math" rows="50" cols="50" spellcheck="false" style="overflow-x: visible; width: 50em; white-space: pre; " ></textarea>
      </td>
      <td valign="top">
        <button onclick="manebu.addSelection()">ãƒ†ã‚­ã‚¹ãƒˆã‚’é¸æŠ</button>
        <button onclick="manebu.substitute()">ãƒ†ã‚­ã‚¹ãƒˆã‚’ä»£å…¥</button>
        <br/>
        <div id="div-math" style="width: 600px"></div>      
      </td>
    </tr>
</table>

<div contenteditable="true">
    <span style="font-family: 'Segoe UI Emoji' ">ğŸ–</span>  
    ã“ã®ãƒ†ã‚­ã‚¹ãƒˆã¯é–²è¦§è€…ãŒç·¨é›†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    ğŸ–
    ğŸ–    
</div>
<div id="div-actions" ></div>
<button onclick="manebu.loadData(window.location.href);">é–‹ã</button>  
<button onclick="copyData();">ã‚³ãƒ”ãƒ¼</button>  
<button onclick="startPlay();">å†ç”Ÿ</button>  
<button onclick="manebu.speak();">éŸ³å£°åˆæˆã®ãƒ†ã‚¹ãƒˆ</button>  
<button onclick="manebu.addSelection_resume()">ãƒ†ã‚­ã‚¹ãƒˆã‚’é¸æŠ</button>

<dialog id="dlg-Folder">
  åå‰:
  <input id="text-name" type="text" size=20 value="" /><br/>
  <button onclick="manebu.make_folder()">ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œæˆ</button>  
  <button onclick="manebu.make_file()">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ</button>  

  <ul id="file-tree-view"></ul>

  <button onclick="manebu.openFile()">é–‹ã</button>  
  <button onclick="manebu.saveFolder()">ä¿å­˜</button>  
  <button onclick="manebu.closeFolder()">é–‰ã˜ã‚‹</button>  
</dialog>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/6.4.2/firebase-app.js"></script>

<script src="https://www.gstatic.com/firebasejs/6.4.2/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/6.4.2/firebase-firestore.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#config-web-app -->

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyBrlDYj-nxqzVIkOyByXoKy7XOTVWSTxt8",
    authDomain: "manebu-6d038.firebaseapp.com",
    databaseURL: "https://manebu-6d038.firebaseio.com",
    projectId: "manebu-6d038",
    storageBucket: "manebu-6d038.appspot.com",
    messagingSenderId: "251130880062",
    appId: "1:251130880062:web:509513c72997552c"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>

</body></html>